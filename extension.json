{
	"name": "WikimediaCustomizations",
	"author": [
		"GergÅ‘ Tisza"
	],
	"url": "https://www.mediawiki.org/wiki/Special:MyLanguage/Extension:WikimediaCustomizations",
	"descriptionmsg": "wikimediacustomizations-desc",
	"license-name": "GPL-2.0-or-later",
	"type": "other",
	"requires": {
		"MediaWiki": ">= 1.46.0"
	},
	"AutoloadNamespaces": {
		"MediaWiki\\Extension\\WikimediaCustomizations\\": "src/"
	},
	"ServiceWiringFiles": [
		"src/ServiceWiring.php"
	],
	"ConfigRegistry": {
		"WikimediaCustomizations": "MediaWiki\\Config\\GlobalVarConfig::newInstance"
	},
	"config": {
		"WMCBadEmailDomainsFile": {
			"description": "Path to the file listing the banned domains, one domain name per line.",
			"value": false
		},
		"WMCEmailAuthEnforce": {
			"description": "Whether to enforce email auth verification. Default is false, so log-only mode.",
			"value": false
		},
		"WMCGlobalGroupToRateLimitClass": {
			"description": "Map of global group names to the rate limit class ('rlc') assigned to members of that group in JWTs.",
			"value": {}
		}
	},
	"HookHandlers": {
		"bademaildomain": {
			"class": "MediaWiki\\Extension\\WikimediaCustomizations\\BadEmailDomain\\BadEmailDomainHookHandler",
			"services": [
				"WikimediaCustomizations.BadEmailDomainChecker"
			]
		},
		"emailauth": {
			"class": "MediaWiki\\Extension\\WikimediaCustomizations\\EmailAuth\\EmailAuthHookHandler",
			"factory": "MediaWiki\\Extension\\WikimediaCustomizations\\EmailAuth\\EmailAuthHookHandler::factory"
		},
		"ratelimit": {
			"class": "MediaWiki\\Extension\\WikimediaCustomizations\\RateLimit\\RateLimitHookHandler",
			"services": [
				"WikimediaCustomizations.Config",
				"ExtensionRegistry"
			]
		}
	},
	"Hooks": {
		"UserCanChangeEmail": "bademaildomain",
		"EmailAuthRequireToken": "emailauth",
		"GetSessionJwtData": "ratelimit"
	},
	"AuthManagerAutoConfig": {
		"preauth": {
			"BadEmailDomainPreAuthenticationProvider": {
				"class": "MediaWiki\\Extension\\WikimediaCustomizations\\BadEmailDomain\\BadEmailDomainPreAuthenticationProvider",
				"sort": 0,
				"services": [
					"WikimediaCustomizations.BadEmailDomainChecker"
				]
			}
		}
	},
	"MessagesDirs": {
		"WikimediaCustomizations": [
			"i18n",
			"i18n/attribution"
		]
	},
	"RestModuleFiles": [
		"src/Attribution/attribution.v0-beta.json"
	],
	"manifest_version": 2
}
